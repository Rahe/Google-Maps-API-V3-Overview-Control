google.maps.Map.prototype.Overview=function(e){var s={zoom_difference:3,border_color:'979797',background_color:'e8ecf8',rectangle:true,rectangle_border_width:2,rectangle_color:'00f',rectangle_opacity:0.3,up_img:'up.png',down_img:'down.png',img_width:15,img_height:15,box_width:150,box_height:150};if(e){$.extend(s,e)}var f={zoom:this.zoom-s.zoom_difference,center:this.getCenter(),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:false,navigationControl:false,scaleControl:false,streetViewControl:false,scrollwheel:false};var g=this;var h=this.getDiv();var i=h.clientWidth;var j=h.clientHeight;var k;var l;if($.browser.msie&&$.browser.version<8){var m; var n;m=parseInt($('#'+h.id).css('border-bottom-width'));if(isNaN(m))m=0;n=parseInt($('#'+h.id).css('border-left-width'));if(isNaN(n))n=0;k=j-(s.box_height+7+m);l=i-(s.box_width+7)+n}else{k=j-(s.box_height+9+parseInt($('#'+h.id).css('border-bottom-width')));l=i-(s.box_width+9)+parseInt($('#'+h.id).css('border-left-width'))}function OverviewMap(a){this.setMap(a)}OverviewMap.prototype=new google.maps.OverlayView();OverviewMap.prototype.draw=function(){var a=this.div_;if(!a){var a=document.createElement('DIV');$(a).css({"position":"relative","border-top":"1px solid #"+s.border_color,"border-left":"1px solid #"+s.border_color,"width":(s.box_width+2)+"px","height":(s.box_height+2)+"px","padding":"6px 0 0 6px","top":k+"px","left":l+"px","background":"#"+s.background_color});this.div_=a;document.getElementById(h.id).appendChild(a);var b=document.createElement('DIV');$(b).css({"width":s.box_width+"px","height":s.box_height+"px","border":"1px solid #"+s.border_color});$(b).attr('id','sub_'+h.id);a.appendChild(b);var c=new google.maps.Map(b,f);var d=document.createElement('DIV');$(d).addClass('down');$(d).css({"padding":"0px","height":s.img_height+"px","width":s.img_width+"px","position":"absolute","top":(j-s.img_height)+"px","left":(i-s.img_width)+"px","cursor":"pointer"});$(d).html('<img src="'+s.down_img+'" alt="arrow" />');document.getElementById(h.id).appendChild(d);$(d).click(function(){if($(this).hasClass('down')){$(this).children().first().attr('src','up.png');$(this).removeClass('down');$(this).addClass('up');$(a).hide()}else{$(this).children().first().attr('src','down.png');$(this).removeClass('up');$(this).addClass('down');$(a).show()}});google.maps.event.addListenerOnce(c,'tilesloaded',function(){if(s.rectangle==true){rectangle=new google.maps.Rectangle({bounds:g.getBounds(),fillColor:'#'+s.rectangle_color,fillOpacity:s.rectangle_opacity,strokeColor:'#'+s.rectangle_color,strokeWeight:s.rectangle_border_width,strokeOpacity:1});rectangle.setMap(c);google.maps.event.addListener(g,'bounds_changed',function(){if(g.getZoom()>s.zoom_difference){if(!rectangle.getMap()){rectangle.setMap(c)}rectangle.setBounds(g.getBounds())}else{rectangle.setMap(null)}})}$('#sub_'+h.id+' > div > div > a > div > img').remove()});google.maps.event.addListener(g,'zoom_changed',function(){zoom=this.getZoom();if(zoom>s.zoom_difference){c.setZoom(this.zoom-s.zoom_difference)}});google.maps.event.addListener(g,'drag',function(){c.setCenter(this.getCenter())});google.maps.event.addListener(c,'drag',function(){g.setCenter(this.getCenter())})}};var o=new OverviewMap(g)}
